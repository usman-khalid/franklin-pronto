const S="modulepreload",v=function(t){return"/"+t},g={},k=function(e,s,o){if(!s||s.length===0)return e();const l=document.getElementsByTagName("link");return Promise.all(s.map(a=>{if(a=v(a),a in g)return;g[a]=!0;const n=a.endsWith(".css"),r=n?'[rel="stylesheet"]':"";if(!!o)for(let u=l.length-1;u>=0;u--){const f=l[u];if(f.href===a&&(!n||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${r}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":S,n||(i.as="script",i.crossOrigin=""),i.href=a,document.head.appendChild(i),n)return new Promise((u,f)=>{i.addEventListener("load",u),i.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=a,window.dispatchEvent(n),!n.defaultPrevented)throw a})};async function w(t){return new Promise((e,s)=>{if(document.querySelector(`head > link[href="${t}"]`))e();else{const o=document.createElement("link");o.rel="stylesheet",o.href=t,o.onload=e,o.onerror=s,document.head.append(o)}})}function N(t){const e=t&&t.includes(":")?"property":"name";return[...document.head.querySelectorAll(`meta[${e}="${t}"]`)].map(o=>o.content).join(", ")||""}function L(t){const e=E("header","");return t.append(e),p(e),h(e)}function $(t){const e=E("footer","");return t.append(e),p(e),h(e)}function m(t){return typeof t=="string"?t.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}function C(t){return m(t).replace(/-([a-z])/g,e=>e[1].toUpperCase())}const d={ICONS_CACHE:{}};function E(t,e){const s=Array.isArray(e)?e:[[e]],o=document.createElement("div");return o.classList.add(t),s.forEach(l=>{const a=document.createElement("div");l.forEach(n=>{const r=document.createElement("div");(n.elems?n.elems:[n]).forEach(i=>{i&&(typeof i=="string"?r.innerHTML+=i:r.appendChild(i))}),a.appendChild(r)}),o.appendChild(a)}),o}async function h(t){const e=t.dataset.blockStatus;if(e!=="loading"&&e!=="loaded"){t.dataset.blockStatus="loading";const{blockName:s}=t.dataset;try{const o=w(`${window.hlx.codeBasePath}/dist/blocks/${s}/${s}.min.css`),l=new Promise(a=>{(async()=>{try{const n=await k(()=>import(`${window.hlx.codeBasePath}/dist/blocks/${s}/${s}.min.js`),[]);n.default&&await n.default(t)}catch(n){console.log(`failed to load module for ${s}`,n)}a()})()});await Promise.all([o,l])}catch(o){console.log(`failed to load block ${s}`,o)}t.dataset.blockStatus="loaded"}}function y(t){const e=[...t.querySelectorAll(":scope > div.section")];for(let s=0;s<e.length;s+=1){const o=e[s];if(o.dataset.sectionStatus!=="loaded")if(o.querySelector('.block[data-block-status="initialized"], .block[data-block-status="loading"]')){o.dataset.sectionStatus="loading";break}else o.dataset.sectionStatus="loaded",o.style.display=null}}async function q(t){y(t);const e=[...t.querySelectorAll("div.block")];for(let s=0;s<e.length;s+=1)await h(e[s]),y(t)}function p(t){const e=t.classList[0];if(e){t.classList.add("block"),t.dataset.blockName=e,t.dataset.blockStatus="initialized",t.parentElement.classList.add(`${e}-wrapper`);const o=t.closest(".section");o&&o.classList.add(`${e}-container`)}}function b(t){const e={};return t.querySelectorAll(":scope > div").forEach(s=>{if(s.children){const o=[...s.children];if(o[1]){const l=o[1],a=m(o[0].textContent);let n="";if(l.querySelector("a")){const r=[...l.querySelectorAll("a")];r.length===1?n=r[0].href:n=r.map(c=>c.href)}else if(l.querySelector("img")){const r=[...l.querySelectorAll("img")];r.length===1?n=r[0].src:n=r.map(c=>c.src)}else if(l.querySelector("p")){const r=[...l.querySelectorAll("p")];r.length===1?n=r[0].textContent:n=r.map(c=>c.textContent)}else n=s.children[1].textContent;e[a]=n}}}),e}async function A(t){let e=document.getElementById("franklin-svg-sprite");if(!e){const l=document.createElement("div");l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" id="franklin-svg-sprite" style="display: none"></svg>',e=l.firstElementChild,document.body.append(l.firstElementChild)}const s=[...t.querySelectorAll("span.icon")];await Promise.all(s.map(async l=>{const a=Array.from(l.classList).find(n=>n.startsWith("icon-")).substring(5);if(!d[a]){d[a]=!0;try{const n=await fetch(`${window.hlx.codeBasePath}/assets/images/${a}.svg`);if(!n.ok){d[a]=!1;return}const r=await n.text();r.match(/(<style | class=)/)?d[a]={styled:!0,html:r}:d[a]={html:r.replace("<svg",`<symbol id="icons-sprite-${a}"`).replace(/ width=".*?"/,"").replace(/ height=".*?"/,"").replace("</svg>","</symbol>")}}catch(n){d[a]=!1,console.error(n)}}}));const o=Object.keys(d).filter(l=>!e.querySelector(`#icons-sprite-${l}`)).map(l=>d[l]).filter(l=>!l.styled).map(l=>l.html).join(`
`);e.innerHTML+=o,s.forEach(l=>{var r;const a=Array.from(l.classList).find(c=>c.startsWith("icon-")).substring(5),n=((r=l.firstElementChild)==null?void 0:r.tagName)==="A"?l.firstElementChild:l;d[a].styled?n.innerHTML=d[a].html:n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg"><use href="#icons-sprite-${a}"/></svg>`})}function B(t){t.querySelectorAll(":scope > div").forEach(e=>{const s=[];let o=!1;[...e.children].forEach(a=>{if(a.tagName==="DIV"||!o){const n=document.createElement("div");s.push(n),o=a.tagName!=="DIV",o&&n.classList.add("default-content-wrapper")}s[s.length-1].append(a)}),s.forEach(a=>e.append(a)),e.classList.add("section"),e.dataset.sectionStatus="initialized",e.style.display="none";const l=e.querySelector("div.section-metadata");if(l){const a=b(l);Object.keys(a).forEach(n=>{n==="style"?a.style.split(",").map(c=>m(c.trim())).forEach(c=>e.classList.add(c)):e.dataset[C(n)]=a[n]}),l.parentNode.remove()}})}function P(t){t.querySelectorAll("div.section > div > div").forEach(p)}function x(t){t.querySelectorAll("a").forEach(e=>{if(e.title=e.title||e.textContent,e.href!==e.textContent){const s=e.parentElement,o=e.parentElement.parentElement;e.querySelector("img")||(s.childNodes.length===1&&(s.tagName==="P"||s.tagName==="DIV")&&(e.className="button primary",s.classList.add("button-container")),s.childNodes.length===1&&s.tagName==="STRONG"&&o.childNodes.length===1&&o.tagName==="P"&&(e.className="button primary",o.classList.add("button-container")),s.childNodes.length===1&&s.tagName==="EM"&&o.childNodes.length===1&&o.tagName==="P"&&(e.className="button secondary",o.classList.add("button-container")))}})}export{A as a,B as b,P as c,x as d,L as e,$ as f,N as g,w as h,E as i,C as j,h as k,q as l,b as r,m as t};
